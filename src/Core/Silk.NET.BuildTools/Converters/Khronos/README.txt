Adapted from https://github.com/mellinoe/vk under the MIT license.